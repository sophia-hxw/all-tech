## 接口设计
- 数据传输方式，XML和json
- 数据类型
    - app端涉及加、减、乘、除和比较大小，用double型；   
    - 布尔型的也用double替代；
    - 其他统一用字符串型；
- app从服务器读取数据为空时，返回相应数据类型的"空"，而不是null
- 数据交互时，带版本号，应对接口代码改变；
- app显示的图片需要处理时，将处理过程放在服务器端；
- 传输数据用http连接
- 向app返回数组数据应该支持分页操作；
- 可能会变动的功能逻辑，尽量放在服务器端实现；
- app要注意处理crash问题，尤其涉及数据解析问题；
- 服务器设计端口时考虑app重复提交数据的情况；


## 安全方案
- get和post区别
    get的参数在url里，post参数在body里，从安全上考虑，尽量用post；
- 使用时间戳(timeStamp)参数来构建验证码(authCode)
- 数据加密
    - 交互数据加密
    - http协议自行设计对称加密或非对称加密
    - http协议自行设计MD5加密
- 密码的处理
    - 密码加密
    - 传输过程再次加密
    - 存储也需要加密，不能是明文
- 重要数据如密钥文件存储
    存储在服务器，不要存在用户终端设备中

## 登陆方式
- 账号+密码
    - 密码由人工设置，此方式容易被破解和利用；
    - 每次登陆时由服务器端动态生成密码，用短信发给用户，此方式不易被破解和利用
- 账号+密码+验证码
    - app或服务器生成验证码并显示在登陆界面
    - 每次登陆是服务器将验证码用短信发到用户手机

## 登陆状态维持
- Token实现
    - app登陆成功后->服务器生成Token+设置有效期->返回app
    - app发送请求时带上Token，服务器验证有效性
- Cookie实现
    - app登陆成功后->SessionID+Expires->返回app
    - app每次请求时带上SessionID，接受有效性和有效期的验证
- 账号和密码
    - app登陆成功后，每次请求时都发送账号和密码

## 数据同步方案
- 文件同步   
    - 注意服务器返回给app图片时需要带时间戳，因为app端会做缓存处理；app接受图片后会比对时间戳来判断是否更新图片缓存。
    - 文件可带版本号
- 地址数据同步   
    - 地址数据存为文件，用版本好或时间戳来判断是否变化，变化的数据可用增量更新机制
    - 若定位已有一级地区，地址传送二三级地址
    - ip判断一级地区，地址传送二三级
    - 一级地址内置到app中，地主传送二三级
- 非地址数据同步
    - 用数据变更的时间戳判断是否更新app本地数据
    - 用数据失效的时间戳判断是否更新本地app数据
    - push机制推送实现

## 业务逻辑实现

- 服务器实现逻辑，app只负责显示和处理用户交互
- 数据存储在本地的同时，也要同步存储在服务端；或只存在服务端，需要时用户从服务端下载
- 验证安全都放在服务器
- app在想服务器发送请求时应在http头中支持gzip，设置Accept-Encoding的类型为gzip，压缩后减少数据流量，加快响应速度
- 多设备登陆时，某个设备修改密码后，应注销其他设备的登陆状态

## 接口文档的维护
对于每个接口的描述，应该包含以下内容：
- 请求URL
- 接口负责人
- 请求方法(post or get)
- 借口版本号
- 数据格式和每个字段数据类型
- 返回格式和数据类型
- 服务端处理失败时的返回数据格式和字段类型





